{"version":3,"sources":["components/charts/autoHeight.js","components/charts/pie/index.js","components/layout/selectPicker.js","pages/dashboard/ProportionSales.js"],"names":["computeHeight","node","parseInt","getComputedStyle","height","paddingTop","paddingBottom","autoHeight","WrappedComponent","_React$Component","_temp","_getPrototypeOf2","_this","Object","_Users_berlin_www_personal_study_react_react_app_antd_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_len","arguments","length","args","Array","_key","_Users_berlin_www_personal_study_react_react_app_antd_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_berlin_www_personal_study_react_react_app_antd_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","concat","state","computedHeight","handleRoot","root","_Users_berlin_www_personal_study_react_react_app_antd_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_berlin_www_personal_study_react_react_app_antd_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","props","h","n","parentNode","getAutoHeight","setState","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","ref","assign","React","Component","Pie","Html","Guide","_this$props","data","hasLegend","html","padding","radius","innerRadius","toolTip","label","bizcharts__WEBPACK_IMPORTED_MODULE_6__","scale","x","formatter","val","forceFit","type","name","position","offsetY","offsetX","showTitle","itemTpl","alignX","alignY","color","tooltip","y","style","lineWidth","stroke","content","item","point","SelectPicker","memo","_ref","title","onChangeSelect","react_default","es_radio","Group","defaultValue","buttonStyle","onChange","map","index","Button","mapDispatchToProps","modifyInterviewLoading","analyizeAction","ProportionSales","classCallCheck","possibleConstructorReturn","getPrototypeOf","getPieDataOne","asyncToGenerator","regenerator_default","mark","_callee","pieData","wrap","_context","prev","next","api","dataAnalyize","pieDataOne","sent","payload","stop","getPieDataTwo","_callee2","_context2","pieDataTwo","getPieDataThree","_callee3","_context3","pieDataThree","onChangeSelectPar","e","target","ModifyInterviewLoading","bind","assertThisInitialized","setTimeout","_this2","interviewLoading","card","bordered","loading","bodyStyle","extra","selectPicker","marginTop","pie","connect","analyizeReducer"],"mappings":"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","file":"static/js/19.91affabb.chunk.js","sourcesContent":["/* eslint-disable no-undef */\n/* eslint eqeqeq: 0 */\nimport React from 'react';\n\nfunction computeHeight(node) {\n  const totalHeight = parseInt(getComputedStyle(node).height, 10);\n  const padding =\n    parseInt(getComputedStyle(node).paddingTop, 10) +\n    parseInt(getComputedStyle(node).paddingBottom, 10);\n  return totalHeight - padding;\n}\n\nfunction getAutoHeight(n) {\n  if (!n) {\n    return 0;\n  }\n\n  let node = n;\n\n  let height = computeHeight(node);\n\n  while (!height) {\n    node = node.parentNode;\n    if (node) {\n      height = computeHeight(node);\n    } else {\n      break;\n    }\n  }\n\n  return height;\n}\n\nconst autoHeight = () => WrappedComponent =>\n  class extends React.Component {\n    state = {\n      computedHeight: 0,\n    };\n\n    componentDidMount() {\n      const { height } = this.props;\n      if (!height) {\n        const h = getAutoHeight(this.root);\n        // eslint-disable-next-line\n        this.setState({ computedHeight: h });\n      }\n    }\n\n    handleRoot = node => {\n      this.root = node;\n    };\n\n    render() {\n      const { height } = this.props;\n      const { computedHeight } = this.state;\n      const h = height || computedHeight;\n      return (\n        <div ref={this.handleRoot}>{h > 0 && <WrappedComponent {...this.props} height={h} />}</div>\n      );\n    }\n  };\n\nexport default autoHeight;","import React from \"react\";\nimport {\n  Chart,\n  Geom,\n  Axis,\n  Tooltip,\n  Coord,\n  Label,\n  Legend,\n  Guide\n} from \"bizcharts\";\nimport autoHeight from '../autoHeight';\n\n@autoHeight()\nclass Pie extends React.Component {\n  render() {\n    const { Html } = Guide;\n    const { data, height, hasLegend, html, padding, radius, innerRadius, toolTip, label } = this.props\n    const cols = {\n      x: {\n        formatter: val => {\n          val = `${val * 100}%`;\n          return val;\n        }\n      }\n    };\n    return (\n      <div>\n        <Chart\n          data={data}\n          scale={cols}\n          forceFit\n          height={height}\n          padding={padding}\n        >\n          <Coord type=\"theta\" radius={radius} innerRadius={innerRadius} />\n          <Axis name=\"x\" />\n          { hasLegend\n           ? <Legend\n              position=\"right\"\n              offsetY={-250}\n              offsetX={-50}\n            />\n          : null}\n\n          {toolTip\n          ? <Tooltip\n            showTitle={false}\n            itemTpl=\"<li><span style=&quot;background-color:{color};&quot; class=&quot;g2-tooltip-marker&quot;></span>{name}: {value}</li>\"\n          />\n          : null}\n\n          {html && <Guide>\n              <Html\n                position={[\"50%\", \"50%\"]}\n                html={html}\n                alignX=\"middle\"\n                alignY=\"middle\"\n              />\n            </Guide> }\n          <Geom\n            type=\"intervalStack\"\n            position=\"x\"\n            color=\"y\"\n            tooltip={[\n              \"y*x\",\n              (y, x) => {\n                x = `${x}%`;\n                return {\n                  name: y,\n                  value: x\n                };\n              }\n            ]}\n            style={{\n              lineWidth: 1,\n              stroke: \"#fff\"\n            }}\n          >\n          {label && <Label\n              content=\"percent\"\n              padding={10}\n              formatter={(val, item) => {\n                return `${item.point.y }: ${item.point.x}%`;\n              }}\n            />}\n          </Geom>\n        </Chart>\n      </div>\n    );\n  }\n}\n\nexport default Pie\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable array-callback-return */\nimport React from 'react'\nimport { Radio } from 'antd'\n\nconst SelectPicker = React.memo( ({title, onChangeSelect}) => {\n\n  return (\n    <div>\n    <Radio.Group defaultValue={title[0]} buttonStyle=\"solid\" onChange={onChangeSelect}>\n      { title.map((item, index) => {\n        return <Radio.Button value={item} key={index}>{item}</Radio.Button>\n      })}\n    </Radio.Group>\n  </div>\n  )\n})\n\nexport default SelectPicker","/* eslint-disable no-unused-expressions */\n/* eslint-disable react/prefer-stateless-function */\nimport React from 'react'\nimport { Card } from 'antd';\nimport { connect } from 'react-redux'\nimport { analyizeAction } from '../../store/actions'\nimport SelectPicker from '../../components/layout/selectPicker'\nimport Pie from '../../components/charts/pie'\nimport api from '../../services'\n\n// eslint-disable-next-line react/prefer-stateless-function\nfunction mapStoP(state){\n  return {\n   interviewLoading: state.analyizeReducer.interviewLoading\n  }\n }\n\n const mapDispatchToProps = {\n   modifyInterviewLoading:  analyizeAction.modifyInterviewLoading\n }\n\nclass ProportionSales extends React.Component {\n\n  constructor (props) {\n    super(props)\n    this.state = {\n      pieData: []\n    }\n    this.onChangeSelect = this.onChangeSelectPar.bind(this)\n  }\n\n  async componentDidMount () {\n    this.getPieDataOne()\n    setTimeout(() => {\n      this.ModifyInterviewLoading(false)\n     },1000)\n  }\n\n  getPieDataOne = async() => {\n    const pieData = await api.dataAnalyize.pieDataOne()\n\n    this.setState(() => ({\n      pieData: pieData.payload\n    }))\n  }\n\n  getPieDataTwo = async() => {\n    const pieData = await api.dataAnalyize.pieDataTwo()\n\n    this.setState(() => ({\n      pieData: pieData.payload\n    }))\n  }\n\n  getPieDataThree = async() => {\n    const pieData = await api.dataAnalyize.pieDataThree()\n\n    this.setState(() => ({\n      pieData: pieData.payload\n    }))\n  }\n\n  onChangeSelectPar = (e) => {\n    e.target.value === '全部渠道' && this.getPieDataOne()\n    e.target.value === '线上' && this.getPieDataTwo()\n    e.target.value === '门店' && this.getPieDataThree()\n  }\n\n  ModifyInterviewLoading = (data) => {\n    const { modifyInterviewLoading } = this.props\n    modifyInterviewLoading(data)\n  }\n\n  render () {\n    const { interviewLoading,title } = this.props\n    const { pieData } =this.state\n\n    return (\n      <Card\n        style={{height: 520}}\n        bordered={false}\n        loading={interviewLoading}\n        title={title}\n        bodyStyle={{ paddingTop: 10 }}\n        extra={ <SelectPicker title={['全部渠道', '线上', '门店']} onChangeSelect={this.onChangeSelect} /> }>\n        <h4 style={{ marginTop: 10 }}>\n          销售额\n        </h4>\n        <Pie\n         label\n         toolTip\n         html=\"<div style=&quot;color:#8c8c8c;font-size:1.16em;text-align: center;width: 10em;&quot;>Berlin<br><span style=&quot;color:#262626;font-size:2.5em&quot;></span>定制</div>\"\n         hasLegend\n         innerRadius={0.8}\n         radius={0.6}\n         padding={[0, 40, 0, 40]}\n         data={pieData}\n         height={400} />\n      </Card>\n    )\n  }\n}\n\nexport default connect(mapStoP, mapDispatchToProps)(ProportionSales)"],"sourceRoot":""}